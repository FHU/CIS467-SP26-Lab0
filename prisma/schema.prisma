// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
}

enum UserType {
  STUDENT 
  FACULTY
  STAFF
  ALUMNI
  GUEST
}

enum Title {
  Dr
  Mr
  Mrs
  Ms
}

// I'm putting this comment after my coding has been complete as to answer why you may wonder 
// why all my functions are prisma.uSER, prisma.sPEAKER etc. and the answer is I didn't know the proper
// way to use captializationa and this is just the way it came out. However I believe I invented 
// a new type of casing called eTHAN cASE where it makes it easier to find your database calls in your code
// because of how it leads the eyes (HCI refrence) and it allowed for me to make my corrections quicker
// In conclusion it works on my machine

model USER {
  id    Int     @id @default(autoincrement())
  email String  @unique
  first_name  String?
  last_name String?
  type UserType
  feedbacks  FEEDBACK[]
}

model SPEAKER{
  id Int @id @default(autoincrement())
  first_name  String?
  last_name String?
  type UserType
  bio String?
  title Title?
  chapel_sessions CHAPEL_SESSION[] @relation("SpeakerToChapelSession")
}

model CHAPEL_SESSION {
  id Int @id @default(autoincrement())
  speaker_id Int
  speaker SPEAKER @relation(fields: [speaker_id], references: [id], name: "SpeakerToChapelSession")
  topic String
  date DateTime
  time DateTime
  number_standings Int
  feedbacks FEEDBACK[]
}

model FEEDBACK{
  id Int @id @default(autoincrement())
  stars Int
  response String
  user_id Int
  user    USER @relation(fields: [user_id], references: [id])
  chapel_session_id Int
  chapel_session CHAPEL_SESSION @relation(fields: [chapel_session_id], references: [id])
}
